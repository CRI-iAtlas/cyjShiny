{"name":"Cytoscape JS for R and Shiny","tagline":"Example code to embed Cytoscape.js into a R Shiny application and generate a standalone webpage with Cytoscape.js from R","body":"# r-cytoscape.js\r\n\r\n##Basic Network\r\nThe basic example draws a small network, while using default options for the customizations. The examples make use of the R package [devtools](https://github.com/hadley/devtools), which allows users to source R scripts from GitHub. \r\n\r\n```\r\n# Load devtools \r\nlibrary(devtools) \r\n\r\n# Download functions\r\nsource_url(\"https://raw.githubusercontent.com/cytoscape/r-cytoscape.js/master/cytoscapeJsSimpleNetwork.R\")\r\n\r\nid <- c(\"Jerry\", \"Elaine\", \"Kramer\", \"George\")\r\nname <- id\r\nnodeData <- data.frame(id, name, stringsAsFactors=FALSE)\r\n\r\nsource <- c(\"Jerry\", \"Jerry\", \"Jerry\", \"Elaine\", \"Elaine\", \"Kramer\", \"Kramer\", \"Kramer\", \"George\")\r\ntarget <- c(\"Elaine\", \"Kramer\", \"George\", \"Jerry\", \"Kramer\", \"Jerry\", \"Elaine\", \"George\", \"Jerry\")\r\nedgeData <- data.frame(source, target, stringsAsFactors=FALSE)\r\n\r\nnetwork <- createCytoscapeNetwork(nodeData, edgeData)\r\n```\r\n\r\nThe resulting \"network\" object is a data.frame with information for the nodes and edges that is then passed on to cytoscapeJsSimpleNetwork. cytoscapeJsSimpleNetwork takes the JSON output and generates HTML code. The resulting HTML code can be a standalone webpage or HTML which can be embedded in [Shiny](http://shiny.rstudio.com/) apps.  \r\n\r\n```\r\noutput <- cytoscapeJsSimpleNetwork(network$nodes, network$edges, standAlone=TRUE)\r\nfileConn <- file(\"cytoscapeJsR_example.html\")\r\nwriteLines(output, fileConn)\r\nclose(fileConn)\r\n```\r\n\r\n##Customizing Network\r\n\r\nCustomizing the network can be done by appending additional columns on to the original data.frames for the network. The current possible additional columns for nodes are \"color\", \"shape\", and \"href\" (an external link). The colors are hex colors and the options for shapes are from the [CytoscapeJS website](http://cytoscape.github.io/cytoscape.js/). For edges, the additional columns are: \"color\", \"sourceShape\", \"targetShape\". \r\n\r\n```\r\nnodeData$color <- rep(\"#00FF00\", nrow(nodeData)) \r\nnodeData$color[which(grepl(\"^Elaine$\", nodeData$id))] <- \"#FF0000\"\r\n\r\nnodeData$href <- paste0(\"http://www.google.com/search?q=Seinfeld%20\", nodeData$name)\r\n\r\nnetwork <- createCytoscapeNetwork(nodeData, edgeData)\r\n\r\noutput <- cytoscapeJsSimpleNetwork(network$nodes, network$edges, standAlone=TRUE)\r\nfileConn <- file(\"cytoscapeJsR_example.html\")\r\nwriteLines(output, fileConn)\r\nclose(fileConn)\r\n```\r\n\r\n##Embedding in Shiny\r\nIt is possible embed Cytoscape.js networks into [Shiny applications](http://shiny.rstudio.com/). The example in current GitHub repository shows a small network with proteins that interact with topoisomerase TOP1, as well as drugs that target the protein. The example has three controls, controls to: 1) change the edges shown, 2) change the layout of the shown network, and 3) add links to Google for each node. With all the files downloaded and in the directory with the server.R and ui.R files, the example can be run as follows: \r\n\r\n```\r\nlibrary(shiny)\r\nrunApp()\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}